<script lang="ts">
  import { enhance } from "$app/forms"
  import type { logOut } from "$lib/actions"

  export let className = ""
  export let options: Parameters<typeof logOut>[0] = undefined
  export let logOutPage = "logout"
  
</script>

<form
  method="POST"
  action={`/${logOutPage}`}
  use:enhance
  class={`logOutButton ${className}`}
  {...$$restProps}
>
  {#if options}
    {#if options?.redirect}
      <input type="hidden" name="redirect" value={options.redirect} />
    {/if}
    {#if options?.redirectTo}
      <input type="hidden" name="redirectTo" value={options.redirectTo} />
    {/if}
  {/if}
  <button type="submit"><slot /></button>
</form>
